<html>
<title>

document.write("chem15 - naming covalent....  ");

</title>

<body>
<canvas id="square" width=550 height=300></canvas>

<script charset="utf-16">

// declare variables.....
//
var cations = ["sodium ","lithium ","calcium ","potassium ","strontium ",
              "barium ","aluminum ","magnesium "];
var cats=["Na", "Li","Ca","K", "Sr","Ba", "Al","Mg"];
var catcharge = [1,1,2,1,2,2,3,2];
var catmass = [22.99, 6.94,40.08,39.10,55.85, 55.85, 26.98, 24.31];
var anions = ["chloride","fluoride","bromide","iodide","sulfide","oxide","nitride","phosphide"]
var anss = ["Cl","F","Br","I","S","O","N","P" ];
var ancharge=[1,1,1,1,2 ,2 ,3,3];
var anmass = [35.45,19.00,17.00,62.00,46.00,94.97,96.07,80.07];

//shuffle(order);

var symbols = ["H", "He", "Li", "Be", "B", "C", "N", "O", "F", "Ne","H"];
var names = ["hydrogen", "helium", "lithium", "beryllium","boron","carbon", "nitrogen",
            "oxygen", "fluorine","neon","hydrogen"]
let order=[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15];
var tanion,tcation,tc;
var problem=1;
var tries=1;
var type=1;
var score=0;
var scoredec=0.0;
var s1 = "Problem # "+problem;
var s2 = "chem15.html ";
var s3 = "WOWEE!";
var s4="....";
s7="";
var s5, s6, s7, s8, s9, s10, s11, s12,s13,s14,s15,hint,final,sans,sinput; //format decimals
s13 = "";//s13="\\u0xE2";
// restart(); - nope did not work...
//s1, s2, s3, s4 - problem text
//s5 - y variable setPrecision(3)
//s6 - z variable setPrecision(3)
//s7 - input testing... line 95 pe
//s8 - var -  percent error -
//s9 - var
//s10 - answer for missed 2nd time
//s11 - score
//s12 - score decimal rounded
//s13 -
//s14 - compound name cation+anion
//s15 -
//hint - give molar mass if missed
//final - give solution with mass/mole conversion --in alert() window...

var x=3;
var pe=0.0;

newVals(); //Problem 1 start
shuffle();

//function equals()  (a,b) b is the answer, a is the user input
function equals(a,b)
{
  var v1 = parseFloat(a);
  var v2 = parseFloat(b);
  pe = Math.abs((v1-v2)/v2);
  s8=pe.toPrecision(5);
  if(pe<0.011)
  {return true;}
  else{return false;}

}
//function eval() - when button clicked, check for
// first and second responses....
function eval()
{
  if(problem>10)  // do nothing after problem 10
    {
      //s1="If you score is good, have your teacher record it."
      //s2="If you want to restart, press that button below."
      //repaint();
    }
  else
{//keep working


    var input = document.getElementById("box1").value;
    sinput = input.toString();
//
//
//
//

    equals(input,x);
    // cheat code......
    //s7=" input = "+input+"     x = "+x.toPrecision(3)+ "pe = "+s8;

    //s11 = "score = "+score+" / "+ (10*problem) ;
    //if(equals(input,x))//(input==x) //correct first time...
   if(sinput===sans)//equals(input,x))//(input==x) //correct first time...
      {
        alert("You answered "+input+"  correct!");
        if(tries==1)
        {
          score+=10;//10 points
          s4="GREAT!";
        }
        else {
          score+=5;//5 points
          s4="Better!";
        }

        //tries=1;
        //s4="GREAT!";
        problem++;
        newVals();

        //canvas.clear();
      }

    else //2nd try
      {

        if(tries==1) //2nd try correct
        {
          alert(hint);
          //alert("ONE");
          //alert("TWO");
          //alert("THREE");
          s7=hint;
          tries++;

        }
        else // 2nd try not correct...next problem.
          {


            alert("answer was "+final+"   Write your mistake next to your work.");
            //alert("Write your mistake next to your work.");
            alert("Don't criss-cross, don't reduce :)");
            alert("prefix = subscript for the atom :)");
            alert("no prefix?  The atom has no subscript!");
            //tries=1;
            s7="answer was "+final;
            problem++;
            newVals();

          }
        }
  //}//close keep working

//problem++;
scoredec = Math.round(10.0*score/(problem-1));
//s12=scoredec.toPrecision(1);
s12=scoredec+"%";
s11 = "score = "+score+" / "+ (10*(problem-1)) +"  =  " +s12;
if(problem==1)
 s11="";
repaint();

}
}

function shuffle() // looked up on internet??
{
   order=order.sort(()=> Math.random()-0.5);
}



function newVals()
{

  //
  sans="";
  tries=1;
  type=Math.ceil(Math.random()*3); //3 types problems....
  //type=3;
  y=Math.ceil(Math.random()*100)/10 +1; //I Current amps
  s5=y.toPrecision(3);
  z=Math.ceil(Math.random()*100)/10+1; // R ohms
  s6=z.toPrecision(3);
  x=y*z;    //volts V
  s9=x.toPrecision(3);
  //s7="";
  tanion=Math.floor(Math.random()*anions.length);
  tcation=Math.floor(Math.random()*cations.length);
  //s7=cations[tcation]+"--"+anions[tanion]+"--"+tcation+"--"+tanion;
  s14=cations[tcation]+anions[tanion];
  if(catcharge[tcation]==ancharge[tanion]){
    molarmass = catmass[tcation]+anmass[tanion];
    sans=cats[tcation]+anss[tanion];

  }

  else {
    molarmass = ancharge[tanion]*catmass[tcation]+catcharge[tcation]*anmass[tanion];

    if(ancharge[tanion]==1)
     sans=cats[tcation];
    else
     sans=(cats[tcation]+ancharge[tanion]);

   if(catcharge[tcation]==1)
    sans+=anss[tanion];
  else
    sans+=(anss[tanion]+catcharge[tcation])


    /////  sans=""+cats[tcation]+ancharge[tanion]+anss[tanion]+catcharge[tcation];
    //sans="herro";
  }

  s4=""+molarmass.toPrecision(4);
  s15=s4;
  //hint....
  s4="";
  hint="hint-- OOPS!  Try again :) ";//s4=" "

  type=1;

  //switch(type)
  switch(order[problem-1])
  {
    case 1: //
    s14="carbon monoxide";
    sans="CO";
    //s2="What is the chemical formula         --- "+sans;
    s2="What is the chemical formula ";
    s3="for "+s14;
    x=y*molarmass;

    final=sans;
    break;
    //////////
    case 2: //  not yet
    s14="carbon dioxide";
    sans="CO2";
    //s2="What is the chemical formula         --- "+sans;
    s2="What is the chemical formula ";
    s3="for "+s14;
    x=y*molarmass;

    final=sans;
    break;
    //////////
    case 3: //
    s14="sulfur dioxide";
    sans="SO2";
    //s2="What is the chemical formula         --- "+sans;
    s2="What is the chemical formula ";
    s3="for "+s14;
    x=y*molarmass;

    final=sans;
    break;
    //////////
    case 4: //
    s14="sulfur trioxide";
    sans="SO3";
    //s2="What is the chemical formula         --- "+sans;
    s2="What is the chemical formula ";
    s3="for "+s14;
    x=y*molarmass;

    final=sans;
    break;
    //////////
    case 5: //
    s14="nitrogen monoxide";
    sans="NO";
    //s2="What is the chemical formula         --- "+sans;
    s2="What is the chemical formula ";
    s3="for "+s14;
    x=y*molarmass;

    final=sans;
    break;
    //////////
    case 6: //
    s14="dinitrogen monoxide";
    sans="N2O";
    //s2="What is the chemical formula         --- "+sans;
    s2="What is the chemical formula ";
    s3="for "+s14;
    x=y*molarmass;

    final=sans;
    break;
    //////////
    case 7: //
    s14="dinitrogen trioxide";
    sans="N2O3";
    //s2="What is the chemical formula         --- "+sans;
    s2="What is the chemical formula ";
    s3="for "+s14;
    x=y*molarmass;

    final=sans;
    break;
    //////////
    case 8: //
    s14="dinitrogen tetroxide";
    sans="N2O4";
    //s2="What is the chemical formula         --- "+sans;
    s2="What is the chemical formula ";
    s3="for "+s14;
    x=y*molarmass;

    final=sans;
    break;
    //////////
    case 9: //
    s14="dinitrogen pentoxide";
    sans="N2O5";
    //s2="What is the chemical formula         --- "+sans;
    s2="What is the chemical formula ";
    s3="for "+s14;
    x=y*molarmass;

    final=sans;
    break;
    //////////
    case 10: //
    s14="phosphorus trichloride";
    sans="PCl3";
    //s2="What is the chemical formula         --- "+sans;
    s2="What is the chemical formula ";
    s3="for "+s14;
    x=y*molarmass;

    final=sans;
    break;
    //////////
    case 11: //
    s14="phosphorus pentachloride";
    sans="PCl5";
    //s2="What is the chemical formula         --- "+sans;
    s2="What is the chemical formula ";
    s3="for "+s14;
    x=y*molarmass;

    final=sans;
    break;
    //////////
    case 12: //
    s14="sulfur trichloride";
    sans="SCl3";
    //s2="What is the chemical formula         --- "+sans;
    s2="What is the chemical formula ";
    s3="for "+s14;
    x=y*molarmass;

    final=sans;
    break;
    //////////
    case 13: //
    s14="sulfur hexafluoride";
    sans="SF6";
    //s2="What is the chemical formula         --- "+sans;
    s2="What is the chemical formula ";
    s3="for "+s14;
    x=y*molarmass;

    final=sans;
    break;
    //////////
    case 14: //
    s14="sulfur pentachloride";
    sans="SCl5";
    //s2="What is the chemical formula         --- "+sans;
    s2="What is the chemical formula ";
    s3="for "+s14;
    x=y*molarmass;

    final=sans;
    break;





    //////////
    default: //case 10: //
    s14="carbon monoxide";
    sans="CO";
    //s2="What is the chemical formula         --- "+sans;
    s2="--What is the chemical formula ";
    s3="for "+s14;
    x=y*molarmass;

    final=sans;
    break;
    //////////

  }

  //x=y+z;

 //alert(" y = "+y);
 //s1="next problem...";
 //s3="next problem line 2";
 if(problem==11)
 {
   s1="DONE!";
   s2="Record the score with a teacher.";
   s3="or restart for a better grade :)";

 }
 else
  s1="Problem "+problem;

  s11 = "score = "+score+" / "+ (10*(problem-1)) ;
  if(problem==1)
   s11="";


  //repaint(); *** ERROR FOR SOME REASON????
}

function restart()
{
  problem=1;
  score=0;
  tries=1;
  s1 = "Problem # "+problem;
  s2 = "WOWEE!";
  s3 = "HI";
  s4="";
  s7 = "restarted.....";
  s11="";

  //need code from newVals here for restarting program..
  newVals();
  shuffle();
  repaint();
}

function repaint()
{
  //
  //
  var g = canvas.getContext("2d");
  canvas.width=canvas.width; //clears canvas each time.
  g.font="16px Arial";
  g.fillText(s1,20,20);
  g.fillText(s2,20,50);
  g.fillText(s3,20,80);
  g.fillText(s4,20,110);
  g.fillText(s7,20,140);
  g.fillText(s11,20,170);

}

var canvas = document.getElementById("square");
repaint();

/*canvas.width=canvas.width; //clears canvas for iterations...


//context.drawString("Yippee",20,80);

//*************************************************************
// combining wade04 and wade05, canvas and buttons.......
//

//     <canvas id="graph" width="400" height="250"></canvas></td></tr>
/*
1. I need to make an input button and show text for problem.
1.b. then check with IPad on internet????
2. then random #
3. then loop with arrays (10 problems)
3.b. then check with IPad on internet???
4.  then ???
5. use alerts for grade???
6.


var c = document.getElementById("myCanvas");
var ctx = c.getContext("2d");
ctx.font = "30px Arial";
ctx.fillText("Hello World", 10, 50);


*/


document.write("<br>");
//document.write(x);
document.write("<br>");
document.write("\n chem15.html");


// END OF SCRIPT!!!!
</script>

<br>
<input id="box1" placeholder = "enter answer">
<br>
<br><br>
<button onclick="eval()" id = "button1">Check answer</button>

<br>
<br><br>
<button onclick="restart()" id = "button2">Restart</button>

</body>

</html>
