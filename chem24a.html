<html>
<title>

document.write("chem24a - mole mole stoichiometry");

</title>

<body>
<canvas id="square" width=600 height=300></canvas>

<script>

/*
chem29.html - Combined Gas Law PV/T = PV/T
***
// declare variables.....
*/

var problem=1;
var tries=1;
var type=1;
var typeabc=1;
var score=0;
var scoredec=0.0;
var s1 = "Problem # "+problem;
var s2 = "Stoichiometry";
var s3 = "";//WOWEE!";
var s4="Stoichiometry";
var s5, s6, s7, s8, s9, s10, s11, s12,s5c,s5d,s5e,s5f; //format decimals
s5c=s5d=s5e=s5f=s7=ss=ss1=ss2="";
let order=[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15];
//var order = 10;
//var order = [1,2,3,4,5,6,7,8,9,10];

// restart(); - nope did not work...
// s1, s2, s3, s4 - problem text
//s5 - y variable setPrecision(3)
//s6 - z variable setPrecision(3)
//s7 - input testing... line 95 pe
//s8 - var -  percent error -
//s9 - var
//s10 - answer for missed 2nd time
//s11 - score
//s12 - score decimal rounded

var x,y,z,w,c,d,e,f,R,T1,T2;
var pe=0.0;
R=0.08206;

//newVals code goes here for problem 1..

/*var y=Math.ceil(Math.random()*100)/10+1;
s5=y.toPrecision(3);
var z=Math.ceil(Math.random()*100)/10+1;
s6=z.toPrecision(3);
s2="x = "+s5+" + "+s6;
*/

newVals(); //Problem 1 start
shuffle();
//repaint();
//restart();
//x=y+z;


//function equals()  (a,b) b is the answer, a is the user input
function equals(a,b)
{
  var v1 = parseFloat(a);
  var v2 = parseFloat(b);
  pe = Math.abs((v1-v2)/v2);
  s8=pe.toPrecision(5);
  if(pe<0.011)
  {return true;}
  else{return false;}

}
//function eval() - when button clicked, check for
// first and second responses....
function eval()
{
  if(problem>10)  // do nothing after problem 10
    {
      //s1="If you score is good, have your teacher record it."
      //s2="If you want to restart, press that button below."
      //repaint();
    }
  else
{//keep working

    var input = document.getElementById("box1").value;
//
//
//

    equals(input,x);
    // cheat code......
    //s7=" input = "+input+"     x = "+x.toPrecision(3)+ "pe = "+s8;

    //s11 = "score = "+score+" / "+ (10*problem) ;
    if(equals(input,x))//(input==x) //correct first time...
      {
        alert("You answered "+input+"  correct!");
        if(tries==1)
        {
          score+=10;//10 points
          s4="GREAT!";
        }
        else {
          score+=5;//5 points
          s4="Better!";
        }

        //tries=1;
        //s4="GREAT!";
        problem++;
        newVals();

        //canvas.clear();
      }

    else //2nd try
      {

        if(tries==1) //2nd try correct
        {
          alert(" try again..."+hint)
          s7=hint;
          tries++;

        }
        else // 2nd try not correct...next problem.
          {
            alert("answer was "+final);
            //tries=1;
            s7="answer was "+final;
            problem++;
            newVals();
          }
        }
  //}//close keep working

//problem++;
scoredec = Math.round(10.0*score/(problem-1));
//s12=scoredec.toPrecision(1);
s12=scoredec+"%";
s11 = "score = "+score+" / "+ (10*(problem-1)) +"  =  " +s12;
if(problem==1)
 s11="";
repaint();

}
}//end eval()
function shuffle() // looked up on internet??
{
   order=order.sort(()=> Math.random()-0.5);
}

function newVals()
{
  //var x,y,z,w,a,b,c;

  //shuffle();

  tries=1;
  type=Math.ceil(Math.random()*4); //4 types problems....
  type=1;

  typeabc=Math.ceil(Math.random()*4);

  y=Math.ceil(Math.random()*200)/100 +1; //y=n 1-3
  s5=y.toPrecision(3);
  z=Math.ceil(Math.random()*50)/10+1; // z=P 1.0-6.0
  s6=z.toPrecision(3);
  c=Math.ceil(Math.random()*200)/5+1; // c=V 1.0-41.0
  s5c =c.toPrecision(3);
  d=Math.ceil(Math.random()*400)/2+50; // d=T 50.0-250.0 celcius
  s5d=d.toPrecision(3);
  e=Math.ceil(Math.random()*50)/10+5; // e=P 5.0-10.0
  s5e=e.toPrecision(3);
  f=Math.ceil(Math.random()*400)/2+250; // f=T  250.0-450.0 celcius
  s5f=f.toPrecision(3);

  //    y..s5    z..s6  c..s5c   d..s5d  e..s5e f..s5f
  //s9=x.toPrecision(3);
  //s7="n="+s5+" P="+s6+" V= "+s5c+" T="+s5d;
  typeabc=1;
  switch(typeabc)  /* switch(order[problem-1])*/
  {
    case 1: //solve for pressure  PV=PV, zc = ex

    if(type==1)
    {
      s2="Combusion of methane....  If  "+order;
      s3="Find the moles of "



    }
    else if(type==2)
    {
      s2="Combusion of methane....  If  "+order;


    }
    else
    {
      s2="Combusion of methane....  If  "+order;


    }
    s2="Combusion of methane....  If  "+order;
    //s2="A gas with pressure "+s6+" atm with a volume of "+s5c+" L ";//PV=PV  V ";
    s3="changes to "+s5e+" atm at constant temperature.  ";
    s4="Find the new volume in L."
    x=z*c/e;
    s10=x.toPrecision(3)+ " L";
    hint="PV=PV , constant temp"
    final=" V = ("+s6+" atm)("+s5c+" L) / ("+s5e+" L) = "+s10;

    break;

    case 2: // V/T = V/T = c /(d+273) = x/(f+273)    x=fd/c...
    s2="ethane "+order; //"  A gas at "+s5d+" \u00b0 C has a volume of "+s5c+" L is heated ";
    s3=" to "+s5f+" \u00b0 C at constant pressure. "
    s4="Find the new volume in L."
    x=(f+273)*c/(d+273); //
    s10=x.toPrecision(3)+ " L";
    hint="V/T=V/T , temp in Kelvin...";
    T1=d+273;
    T2=f+273;
    ss1=T1.toPrecision(3);
    ss2=T2.toPrecision(3);
    final=" V = ("+s5c+" L) * ("+T2+" K) / ("+T1+" K)  and V = "+s10;

    //s4+="cheat="+s10;

    break;

    case 3:// P/T = P/T    z/(d+273) = e/(x)...
    s2="propane..."+order;//"  at "+s5d+" \u00b0 C has a pressure of "+s6+" atm is heated ";
    s3=" to "+s5e+" atm at constant volume. "
    s4="Find the new temperature in K."
    x=e*(d+273)/z; //
    s10=x.toPrecision(3)+ " K";
    hint="P/T=P/T , temp in Kelvin...";
    s10=x.toPrecision(3)+ " K ";
    T1=d+273;
    ss1=T1.toPrecision(3);
    final=" T = ("+s5e+" atm) * ("+T1+" K) / ("+s6+" atm)  and T = "+s10;
    //s4+="cheat="+s10;

    break;

// now.... STP....
    case 4:// PV/T = PV/T   1(c)/273 = z*x/(d+273)... x=1*c*(d+273) / (z* 273)
    s2="KClO3 "+order;//" A gas at STP has a volume of "+s5c+" L.  It is then heated to "+s5d+" \u00b0 C ";
    s3="with a pressure of "+s6+" atm.  "
    s4="Find the new volume in L."
    x=c*(d+273) / (z*273); //
    hint="PV/T=PV/T  1atm(V)/ 273K = ..., temp in Kelvin...";
    s10=x.toPrecision(3)+ " L ";
    T1=d+273;
    ss1=T1.toPrecision(3);
    final="***** T = ("+s5e+" atm) * ("+T1+" K) / ("+s6+" atm)  and T = "+s10;
    //s4+="cheat="+s10;
    //s2="x = "+y+" + "+z;
    break;

   case 5: s2="HgO "+order;
   x=c*(d+273) / (z*273); //
   hint="PV/T=PV/T  1atm(V)/ 273K = ..., temp in Kelvin...";
   s10=x.toPrecision(3)+ " L ";
   T1=d+273;
   ss1=T1.toPrecision(3);
   final="***** T = ("+s5e+" atm) * ("+T1+" K) / ("+s6+" atm)  and T = "+s10;
   //s4+="cheat="+s10;
   //s2="x = "+y+" + "+z;
   break;

   case 6: s2="H2CO3 "+order;
   x=c*(d+273) / (z*273); //
   hint="PV/T=PV/T  1atm(V)/ 273K = ..., temp in Kelvin...";
   s10=x.toPrecision(3)+ " L ";
   T1=d+273;
   ss1=T1.toPrecision(3);
   final="***** T = ("+s5e+" atm) * ("+T1+" K) / ("+s6+" atm)  and T = "+s10;
   //s4+="cheat="+s10;
   //s2="x = "+y+" + "+z;
   break;

   case 7: s2="NaOH ..  "+order;
   x=c*(d+273) / (z*273); //
   hint="PV/T=PV/T  1atm(V)/ 273K = ..., temp in Kelvin...";
   s10=x.toPrecision(3)+ " L ";
   T1=d+273;
   ss1=T1.toPrecision(3);
   final="***** T = ("+s5e+" atm) * ("+T1+" K) / ("+s6+" atm)  and T = "+s10;
   //s4+="cheat="+s10;
   //s2="x = "+y+" + "+z;
   break;

   case 8: s2="MgCl2 "+order;
   x=c*(d+273) / (z*273); //
   hint="PV/T=PV/T  1atm(V)/ 273K = ..., temp in Kelvin...";
   s10=x.toPrecision(3)+ " L ";
   T1=d+273;
   ss1=T1.toPrecision(3);
   final="***** T = ("+s5e+" atm) * ("+T1+" K) / ("+s6+" atm)  and T = "+s10;
   //s4+="cheat="+s10;
   //s2="x = "+y+" + "+z;
   break;

   case 9: s2="AlOH3 "+order;
   x=c*(d+273) / (z*273); //
   hint="PV/T=PV/T  1atm(V)/ 273K = ..., temp in Kelvin...";
   s10=x.toPrecision(3)+ " L ";
   T1=d+273;
   ss1=T1.toPrecision(3);
   final="***** T = ("+s5e+" atm) * ("+T1+" K) / ("+s6+" atm)  and T = "+s10;
   //s4+="cheat="+s10;
   //s2="x = "+y+" + "+z;
   break;

   case 10: s2="N2 "+order;
   x=c*(d+273) / (z*273); //
   hint="PV/T=PV/T  1atm(V)/ 273K = ..., temp in Kelvin...";
   s10=x.toPrecision(3)+ " L ";
   T1=d+273;
   ss1=T1.toPrecision(3);
   final="***** T = ("+s5e+" atm) * ("+T1+" K) / ("+s6+" atm)  and T = "+s10;
   //s4+="cheat="+s10;
   //s2="x = "+y+" + "+z;
   break;

   case 11: s2="H2 + O2.. "+order;
   x=c*(d+273) / (z*273); //
   hint="PV/T=PV/T  1atm(V)/ 273K = ..., temp in Kelvin...";
   s10=x.toPrecision(3)+ " L ";
   T1=d+273;
   ss1=T1.toPrecision(3);
   final="***** T = ("+s5e+" atm) * ("+T1+" K) / ("+s6+" atm)  and T = "+s10;
   //s4+="cheat="+s10;
   //s2="x = "+y+" + "+z;
   break;

   case 12: s2="Ag + O2... "+order;
   x=c*(d+273) / (z*273); //
   hint="PV/T=PV/T  1atm(V)/ 273K = ..., temp in Kelvin...";
   s10=x.toPrecision(3)+ " L ";
   T1=d+273;
   ss1=T1.toPrecision(3);
   final="***** T = ("+s5e+" atm) * ("+T1+" K) / ("+s6+" atm)  and T = "+s10;
   //s4+="cheat="+s10;
   //s2="x = "+y+" + "+z;
   break;

   case 13: s2="HCl + Mg./.. "+order;
   x=c*(d+273) / (z*273); //
   hint="PV/T=PV/T  1atm(V)/ 273K = ..., temp in Kelvin...";
   s10=x.toPrecision(3)+ " L ";
   T1=d+273;
   ss1=T1.toPrecision(3);
   final="***** T = ("+s5e+" atm) * ("+T1+" K) / ("+s6+" atm)  and T = "+s10;
   //s4+="cheat="+s10;
   //s2="x = "+y+" + "+z;
   break;

   case 14: s2="Zn - 1:1 "+order;
   x=c*(d+273) / (z*273); //
   hint="PV/T=PV/T  1atm(V)/ 273K = ..., temp in Kelvin...";
   s10=x.toPrecision(3)+ " L ";
   T1=d+273;
   ss1=T1.toPrecision(3);
   final="***** T = ("+s5e+" atm) * ("+T1+" K) / ("+s6+" atm)  and T = "+s10;
   //s4+="cheat="+s10;
   //s2="x = "+y+" + "+z;
   break;

   case 15: s2="HCl + Al ...  "+order;
   x=c*(d+273) / (z*273); //
   hint="PV/T=PV/T  1atm(V)/ 273K = ..., temp in Kelvin...";
   s10=x.toPrecision(3)+ " L ";
   T1=d+273;
   ss1=T1.toPrecision(3);
   final="***** T = ("+s5e+" atm) * ("+T1+" K) / ("+s6+" atm)  and T = "+s10;
   //s4+="cheat="+s10;
   //s2="x = "+y+" + "+z;
   break;





   case 6:case 7: case 8: case 9: case 10:
    s2="YAYAYAY "+order ;
   x=c*(d+273) / (z*273); //
   hint="PV/T=PV/T  1atm(V)/ 273K = ..., temp in Kelvin...";
   s10=x.toPrecision(3)+ " L ";
   T1=d+273;
   ss1=T1.toPrecision(3);
   final="***** T = ("+s5e+" atm) * ("+T1+" K) / ("+s6+" atm)  and T = "+s10;
   //s4+="cheat="+s10;
   //s2="x = "+y+" + "+z;
   break;

  default:  s2="NONONO"+order;
  break;


  }

 if(problem==11)
 {
   s1="DONE!";
   s2="Record the score with a teacher.";
   s3="or restart for a better grade :)";

 }
 else
  s1="Problem "+problem;

  s11 = "score = "+score+" / "+ (10*(problem-1)) ;
  if(problem==1)
   s11="";


  //repaint(); *** ERROR FOR SOME REASON????
}

function restart()
{
  problem=1;
  score=0;
  tries=1;
  s1 = "Problem # "+problem;
  s2 = "WOWEE!";
  s3 = "HI";
  s4="";
  s7 = "restarted.....";
  s11="";

  //need code from newVals here for restarting program..
  newVals();
  shuffle();
  repaint();
}//end newVals()

function repaint()
{
  //
  //
  var g = canvas.getContext("2d");
  canvas.width=canvas.width; //clears canvas each time.
  g.font="16px Arial";
  g.fillText(s1,20,20);
  g.fillText(s2,20,50);
  g.fillText(s3,20,80);
  g.fillText(s4,20,110);
  g.fillText(s7,20,140);
  g.fillText(s11,20,170);

}//end repaint()

var canvas = document.getElementById("square");
repaint();

/*canvas.width=canvas.width; //clears canvas for iterations...

//context.drawString("Yippee",20,80);

*/


document.write("<br>");
//document.write(x);
document.write("<br>");
document.write("\n chem24a.html");





// END OF SCRIPT!!!!
</script>

<br>
<input id="box1" placeholder = "enter answer">
<br>
<br><br>
<button onclick="eval()" id = "button1">Check answer</button>

<br>
<br><br>
<button onclick="restart()" id = "button2">Restart</button>





</body>

</html>
